(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[9244],{10172:function(e,n,t){"use strict";t.r(n),t.d(n,{_frontmatter:function(){return s},default:function(){return p}});var a=t(22122),i=t(19756),d=(t(15007),t(64983)),o=t(99536),r=["components"],s={},l={_frontmatter:s},m=o.Z;function p(e){var n=e.components,t=(0,i.Z)(e,r);return(0,d.mdx)(m,(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"events-publishing-api"},"Events Publishing API"),(0,d.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"Create a project and a workspace in the ",(0,d.mdx)("a",{parentName:"li",href:"/adobe-io-events/developer-console/docs/guides/projects/projects-empty/"},"Adobe Developer Console")),(0,d.mdx)("li",{parentName:"ul"},"Add the ",(0,d.mdx)("inlineCode",{parentName:"li"},"I/O Management API")," in this Adobe Developer Console workspace "),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"/adobe-io-events/developer-console/docs/guides/credentials/"},"Generate a JWT token")),(0,d.mdx)("li",{parentName:"ul"},"Using ",(0,d.mdx)("a",{parentName:"li",href:"provider_api.md"},"Adobe I/O Events Provider API")," ",(0,d.mdx)("ul",{parentName:"li"},(0,d.mdx)("li",{parentName:"ul"},"create your own ",(0,d.mdx)("inlineCode",{parentName:"li"},"Custom Events Provider")),(0,d.mdx)("li",{parentName:"ul"},"create at least one ",(0,d.mdx)("inlineCode",{parentName:"li"},"Event Metadata")," associated with the above")))),(0,d.mdx)("h2",{id:"test-drive"},"Test Drive"),(0,d.mdx)("p",null,"Once its ",(0,d.mdx)("inlineCode",{parentName:"p"},"Event Metadata")," is persisted in Adobe I/O Events (see above prerequisites),\nyour ",(0,d.mdx)("inlineCode",{parentName:"p"},"Custom Events Provider")," can start publishing its\n",(0,d.mdx)("a",{parentName:"p",href:"https://cloudevents.io"},"CloudEvents")," to Adobe I/O Events publishing endpoint (",(0,d.mdx)("inlineCode",{parentName:"p"},"https://eventsingress.adobe.io"),")."),(0,d.mdx)("p",null,"Please follow ",(0,d.mdx)("a",{parentName:"p",href:"https://github.com/cloudevents/spec/blob/v1.0/spec.md"},"CloudEvents v1.0 specification"),",\nhere is a sample ",(0,d.mdx)("inlineCode",{parentName:"p"},"curl")," command:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre"},' curl -i --location --request POST  \\\n         --url https://eventsingress.adobe.io \\\n         --header "x-api-key: $api_key" \\\n         --header "Authorization: Bearer $jwt_token" \\\n         --header \'Content-Type: application/cloudevents+json\' \\\n         --data \'{\n           "datacontenttype": "application/json",\n           "specversion": "1.0",\n           "source": "urn:uuid:\'"${provider_id}"\'",\n           "type": "\'"${event_code}"\'",\n           "id": "\'"${event_id}"\'",\n           "data": "your event json payload"\n         }\'\n')),(0,d.mdx)("p",null,"The environment variables used in this ",(0,d.mdx)("inlineCode",{parentName:"p"},"curl")," command are computed from the above prerequisites"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"api_key")," is the api-key associated with your Adobe Developer Console workspace"),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"jwt_token")," is a jwt token generated using the set up from the same workspace"),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"provider_id")," is your ",(0,d.mdx)("inlineCode",{parentName:"li"},"Custom Events Provider")," uuid generated by ",(0,d.mdx)("a",{parentName:"li",href:"../api/provider_api.md"},"Adobe I/O Events Provider API")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"event_code")," is the ",(0,d.mdx)("inlineCode",{parentName:"li"},"Custom Events Provider"),"'s ",(0,d.mdx)("inlineCode",{parentName:"li"},"Event Metadata"),"'s ",(0,d.mdx)("inlineCode",{parentName:"li"},"event_code")," as persisted using ",(0,d.mdx)("a",{parentName:"li",href:"../api/provider_api.md"},"Adobe I/O Events Provider API")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"event_id")," is any id of your choice (examples: UUID, event counter) guaranteeing that ",(0,d.mdx)("inlineCode",{parentName:"li"},"source + id")," is unique\nfor each distinct event see ",(0,d.mdx)("a",{parentName:"li",href:"https://github.com/cloudevents/spec/blob/v1.0/spec.md#id"},"CloudEvents spec")),(0,d.mdx)("li",{parentName:"ul"},"as for the value of ",(0,d.mdx)("inlineCode",{parentName:"li"},"data")," in the CloudEvents body payload, it can be any json payload.")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-api-eventsingress-api-md-dfaf95895f82852ea901.js.map