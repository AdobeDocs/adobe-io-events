{"version":3,"file":"component---src-pages-guides-api-eventsingress-api-md-b7ccb1b36cf0a45746f6.js","mappings":"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","sources":["webpack://dev-site-documentation-template/./src/pages/guides/api/eventsingress_api.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/adobe-io-events/adobe-io-events/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"events-publishing-api\"\n    }}>{`Events Publishing API`}</h1>\n    <h2 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Create a project and a workspace in the `}<a parentName=\"li\" {...{\n          \"href\": \"/adobe-io-events/developer-console/docs/guides/projects/projects-empty/\"\n        }}>{`Adobe Developer Console`}</a></li>\n      <li parentName=\"ul\">{`Add the `}<inlineCode parentName=\"li\">{`I/O Management API`}</inlineCode>{` in this Adobe Developer Console workspace`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/adobe-io-events/developer-console/docs/guides/credentials/\"\n        }}>{`Generate an OAuth Server-to-Server token`}</a></li>\n      <li parentName=\"ul\">{`Using `}<a parentName=\"li\" {...{\n          \"href\": \"provider_api.md\"\n        }}>{`Adobe I/O Events Provider API`}</a>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`create your own `}<inlineCode parentName=\"li\">{`Custom Events Provider`}</inlineCode></li>\n          <li parentName=\"ul\">{`create at least one `}<inlineCode parentName=\"li\">{`Event Metadata`}</inlineCode>{` associated with the above`}</li>\n        </ul>\n      </li>\n    </ul>\n    <InlineAlert slots=\"title, text\" mdxType=\"InlineAlert\" />\n    <p>{`Data Residency:`}</p>\n    <p>{`Please note that all custom events are stored in the `}<strong parentName=\"p\">{`United States (US)`}</strong>{` region.  `}</p>\n    <h2 {...{\n      \"id\": \"throttling-policy\"\n    }}>{`Throttling Policy`}</h2>\n    <p>{`We do have a throttling policy in place, we accept up to 3,000 requests / 5 secs per api-key.\nYour throttled requests will receive a HTTP Status 429 (Too Many Requests) response\nwith a `}<inlineCode parentName=\"p\">{`Retry-After`}</inlineCode>{` header, following the `}<a parentName=\"p\" {...{\n        \"href\": \"https://tools.ietf.org/html/rfc7231#section-7.1.3\"\n      }}>{`RFC 7231`}</a>{` HTTP standard.`}</p>\n    <h2 {...{\n      \"id\": \"test-drive\"\n    }}>{`Test Drive`}</h2>\n    <p>{`Once its `}<inlineCode parentName=\"p\">{`Event Metadata`}</inlineCode>{` is persisted in Adobe I/O Events (see above prerequisites),\nyour `}<inlineCode parentName=\"p\">{`Custom Events Provider`}</inlineCode>{` can start publishing its\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://cloudevents.io\"\n      }}>{`CloudEvents`}</a>{` to Adobe I/O Events publishing endpoint (`}<inlineCode parentName=\"p\">{`https://eventsingress.adobe.io`}</inlineCode>{`).`}</p>\n    <p>{`Please follow `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/cloudevents/spec/blob/v1.0/spec.md\"\n      }}>{`CloudEvents v1.0 specification`}</a>{`,\nhere is a sample `}<inlineCode parentName=\"p\">{`curl`}</inlineCode>{` command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl -i --location --request POST  \\\\\n       --url https://eventsingress.adobe.io \\\\\n       --header \"x-api-key: $api_key\" \\\\\n       --header \"Authorization: Bearer $oauth_s2s_token\" \\\\\n       --header 'Content-Type: application/cloudevents+json' \\\\\n       --header \"x-event-phidata: $is_phidata\" \\\\\n       --data '{\n         \"datacontenttype\": \"application/json\",\n         \"specversion\": \"1.0\",\n         \"source\": \"urn:uuid:'\"\\${provider_id}\"'\",\n         \"type\": \"'\"\\${event_code}\"'\",\n         \"id\": \"'\"\\${event_id}\"'\",\n         \"data\": \"your event json payload\"\n         \"customattribute\" : \"cloud events custom extension\"\n       }'\n`}</code></pre>\n    <p>{`The environment variables used in this `}<inlineCode parentName=\"p\">{`curl`}</inlineCode>{` command are computed from the above prerequisites`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`api_key`}</inlineCode>{` is the api-key associated with your Adobe Developer Console workspace`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`oauth_s2s_token`}</inlineCode>{` is an OAuth Server-to-Server token generated using the set up from the same workspace`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`is_phidata`}</inlineCode>{` is a boolean value indicating if the event contains PHI data, and is required for `}<a parentName=\"li\" {...{\n          \"href\": \"#hipaa-compliance-support\"\n        }}>{`HIPAA compliance`}</a>{` (defaults to `}<inlineCode parentName=\"li\">{`false`}</inlineCode>{` if not provided)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`provider_id`}</inlineCode>{` is your `}<inlineCode parentName=\"li\">{`Custom Events Provider`}</inlineCode>{` uuid generated by `}<a parentName=\"li\" {...{\n          \"href\": \"../api/provider_api.md\"\n        }}>{`Adobe I/O Events Provider API`}</a></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`event_code`}</inlineCode>{` is the `}<inlineCode parentName=\"li\">{`Custom Events Provider`}</inlineCode>{`'s `}<inlineCode parentName=\"li\">{`Event Metadata`}</inlineCode>{`'s `}<inlineCode parentName=\"li\">{`event_code`}</inlineCode>{` as persisted using `}<a parentName=\"li\" {...{\n          \"href\": \"../api/provider_api.md\"\n        }}>{`Adobe I/O Events Provider API`}</a></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`event_id`}</inlineCode>{` is any id of your choice (examples: UUID, event counter) guaranteeing that `}<inlineCode parentName=\"li\">{`source + id`}</inlineCode>{` is unique\nfor each distinct event see `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/cloudevents/spec/blob/v1.0/spec.md#id\"\n        }}>{`CloudEvents spec`}</a></li>\n      <li parentName=\"ul\">{`as for the value of `}<inlineCode parentName=\"li\">{`data`}</inlineCode>{` in the CloudEvents body payload, it can be any json payload.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`customattribute`}</inlineCode>{` (a.k.a cloud events extensions) are any attributes defined by you following the `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/cloudevents/spec/blob/v1.0/spec.md#attribute-naming-convention\"\n        }}>{`CloudEvents attribute naming convention`}</a></li>\n    </ul>\n    <p>{`The API returns`}</p>\n    <ul>\n      <li parentName=\"ul\">{`HTTP Status 200 (OK) if the event has been processed correctly and there are active registrations for the event`}</li>\n      <li parentName=\"ul\">{`HTTP Status 204 (No Content) if there are no registrations for the event`}</li>\n      <li parentName=\"ul\">{`HTTP Status 429 (Too Many Requests) if your api-key is being throttled (see our `}<a parentName=\"li\" {...{\n          \"href\": \"#throttling-policy\"\n        }}>{`Throttling Policy`}</a>{`)`}</li>\n      <li parentName=\"ul\">{`as well as the other usual (4xx/5xx) error codes if there was an issue in processing the request`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`HTTP status 400 is returned if payload failed to deserialize due to being non-compliant as per CloudEvents spec`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"hipaa-compliance-support\"\n    }}>{`HIPAA Compliance Support`}</h2>\n    <p>{`I/O Events is compliant with `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.hhs.gov/hipaa/for-professionals/privacy/index.html#:~:text=The%20HIPAA%20Privacy%20Rule%20establishes,care%20providers%20that%20conduct%20certain\"\n      }}>{`HIPAA regulation`}</a>{`.\nThe event producers are responsible to signal if the event contains PHI data by setting the optional `}<inlineCode parentName=\"p\">{`x-event-phidata`}</inlineCode>{` header to `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{` in the request.\nWhen the header is present and set to `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{`:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`the resulting CloudEvents-formatted event which is produced will be enriched with a `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/cloudevents/spec/blob/main/cloudevents/primer.md#cloudevent-extension-attributes\"\n        }}>{`CloudEvents extension`}</a>{`, namely, a `}<inlineCode parentName=\"li\">{`phidata`}</inlineCode>{` node, set to `}<inlineCode parentName=\"li\">{`true`}</inlineCode>{`,`}</li>\n      <li parentName=\"ul\">{`with the above `}<inlineCode parentName=\"li\">{`phidata`}</inlineCode>{` extension receivers will be able to identify which events contain PHI data and handle them accordingly,`}</li>\n      <li parentName=\"ul\">{`audit trace logs will be preserved for 1 year in a HIPAA-compliant storage,`}</li>\n      <li parentName=\"ul\">{`the `}<inlineCode parentName=\"li\">{`id`}</inlineCode>{` field in the CloudEvents payload will be used as a `}<inlineCode parentName=\"li\">{`trace-id`}</inlineCode>{` for the above audit trace logs.`}</li>\n    </ul>\n    <p>{`In the event of an audit, you will need to be able to provide evidences of how the patient data was handled.`}</p>\n    <h3 {...{\n      \"id\": \"audit-log-storing-the-mapping-between-phi-data-to-ids\"\n    }}>{`Audit log: storing the mapping between PHI data to ids`}</h3>\n    <p>{`It is your responsibility to store the `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` in your own logs or storage solution for traceability.\nIf you are handling multiple end patients data (PHIs), you should also store what `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` you\nproduced corresponds to what patient data, to be able to provide information regarding that\npatient data in case of an audit specific to that patient.`}</p>\n    <p>{`You can ask I/O Events support to retrieve the audit trace logs for a given set of `}<inlineCode parentName=\"p\">{`ids`}</inlineCode>{` you produced.\nYou can reach the support team through the `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleaguecommunities.adobe.com/t5/adobe-developer/ct-p/adobe-io\"\n      }}>{`Adobe I/O Forums`}</a>{` on Adobe Experience League.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","mdx","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutPropertiesLoose","_excluded","_extends","mdxType","parentName","slots","isMDXComponent"],"sourceRoot":""}