(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[215],{45385:function(e,t,n){"use strict";n.r(t),n.d(t,{_frontmatter:function(){return o},default:function(){return p}});var a=n(22122),r=n(19756),d=(n(15007),n(64983)),l=n(99536),s=["components"],o={},i={_frontmatter:o},m=l.Z;function p(e){var t=e.components,n=(0,r.Z)(e,s);return(0,d.mdx)(m,(0,a.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"publish-events"},"Publish events"),(0,d.mdx)("p",null,"Event publishers can publish events to the event receiver using the ADobe I/O Events SDK. "),(0,d.mdx)("p",null,"For information on installing and using the SDK, please begin by reading the ",(0,d.mdx)("a",{parentName:"p",href:"sdk_getting_started.md"},"getting started guide"),"."),(0,d.mdx)("h2",{id:"method"},"Method"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-shell"},"publishEvent(cloudEvent) â‡’ Promise.<string>\n")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,d.mdx)("th",{parentName:"tr",align:null},"Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"cloudEvent")),(0,d.mdx)("td",{parentName:"tr",align:null},"object"),(0,d.mdx)("td",{parentName:"tr",align:null},"Object to be published to event receiver in cloud event format.")))),(0,d.mdx)("h2",{id:"cloudevents-sample"},"CloudEvents Sample"),(0,d.mdx)("p",null,"The events should follow ",(0,d.mdx)("a",{parentName:"p",href:"https://github.com/cloudevents/spec/blob/v1.0/spec.md"},"CloudEvents 1.0")," Image result for CloudEvents specification. "),(0,d.mdx)("p",null,"As of now, only ",(0,d.mdx)("inlineCode",{parentName:"p"},"application/json")," is accepted as the ",(0,d.mdx)("inlineCode",{parentName:"p"},"content-type"),' for the "data" field of the CloudEvent. '),(0,d.mdx)("p",null,"If retries are set, publish events are retried on network issues, 5xx and 429 error response codes. "),(0,d.mdx)("p",null,"The following shows a sample cloud event accepted by the event receiver:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "id": "<id>",\n    "event_id": "<event_id>",\n    "specversion": "1.0",\n    "type": "<event-code>",\n    "source": "urn:uuid:<provider-id>",\n    "time": "2020-03-06T05:40:34Z",\n    "datacontenttype": "application/json",\n    "data": { "hello": "world" } // any json payload\n}\n')),(0,d.mdx)("h2",{id:"response"},"Response"),(0,d.mdx)("p",null,"The API returns "),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"HTTP Status 200 (OK) if the event has been processed correctly and there are active registrations for the event,"),(0,d.mdx)("li",{parentName:"ul"},"HTTP Status 204 (No Content) if there are no registrations for the event, "),(0,d.mdx)("li",{parentName:"ul"},"HTTP Status 429 (Too Many Requests) with a ",(0,d.mdx)("inlineCode",{parentName:"li"},"Retry-After")," response header if your api-key is being throttled (read our ",(0,d.mdx)("a",{parentName:"li",href:"../api/eventsingress_api.md"},"Events Publishing API guide")," for more details)."),(0,d.mdx)("li",{parentName:"ul"},"as well as the usual (4xx/5xx) error codes if there was an issue in processing the request.")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-sdk-sdk-publish-events-md-6ac3d8e0359c1c34da0c.js.map