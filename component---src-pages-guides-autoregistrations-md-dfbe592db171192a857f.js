(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[2647],{73882:function(e,n,i){"use strict";i.r(n),i.d(n,{_frontmatter:function(){return p},default:function(){return m}});var t=i(22122),a=i(19756),o=(i(15007),i(64983)),l=i(99536),d=["components"],p={},r={_frontmatter:p},s=l.Z;function m(e){var n=e.components,i=(0,a.Z)(e,d);return(0,o.mdx)(s,(0,t.Z)({},r,i,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"overview"},"Overview"),(0,o.mdx)("p",null,"The integration between ",(0,o.mdx)("a",{parentName:"p",href:"./runtime_webhooks.md"},"App builder project and I/O Events")," allows to create applications that listen to Adobe events. Automatic events registrations push this concept further by subscribing your newly deployed project to ",(0,o.mdx)("inlineCode",{parentName:"p"},"I/O Events")," automatically, so you can easily deploy your application in different environments or even share your application with other organizations. Also, this technology minimizes the manual routine work for admins and reduces the possibility to mess up things during manual setup in ",(0,o.mdx)("inlineCode",{parentName:"p"},"Developer Console"),"."),(0,o.mdx)("h2",{id:"creating-self-contained-application"},"Creating self-contained application"),(0,o.mdx)("p",null,"In this chapter, we will create a code that listens to a specific event type and bind itself to this event type."),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Create ",(0,o.mdx)("inlineCode",{parentName:"li"},"App Builder")," project(",(0,o.mdx)("inlineCode",{parentName:"li"},"Runtime"),") with webhook using ",(0,o.mdx)("a",{parentName:"li",href:"./runtime_webhooks.md"},"App builder project and I/O Events")," article. ",(0,o.mdx)("strong",{parentName:"li"},"DON'T go to ",(0,o.mdx)("inlineCode",{parentName:"strong"},"Developer Console")," to create registrations!")),(0,o.mdx)("li",{parentName:"ul"},"Install ",(0,o.mdx)("inlineCode",{parentName:"li"},"aio-cli-plugin-extension")," plugins using AIO CLI(",(0,o.mdx)("inlineCode",{parentName:"li"},"aio plugins discover -i"),")"),(0,o.mdx)("li",{parentName:"ul"},"Declare your action as ",(0,o.mdx)("inlineCode",{parentName:"li"},"non-web")," and set ",(0,o.mdx)("inlineCode",{parentName:"li"},"require-adobe-auth")," to ",(0,o.mdx)("inlineCode",{parentName:"li"},"false")," in ",(0,o.mdx)("inlineCode",{parentName:"li"},"app.config.yaml")," file. Actions deployed with ",(0,o.mdx)("inlineCode",{parentName:"li"},"aio-cli-plugin-extension")," plugin only receive events signed by Adobe I/O Events. All other invocations will be ignored."),(0,o.mdx)("li",{parentName:"ul"},"Define the event types you want to receive in ",(0,o.mdx)("inlineCode",{parentName:"li"},"event-listener-for")," section of ",(0,o.mdx)("inlineCode",{parentName:"li"},"app.config.yaml")," file like the following:")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},"application:\n  actions: actions\n  web: web-src\n  runtimeManifest:\n    packages:\n      appbuilder:\n        license: Apache-2.0\n        actions:\n          generic:\n            function: actions/generic/index.js\n            web: 'no'\n            runtime: 'nodejs:14'\n            inputs:\n              LOG_LEVEL: debug\n            annotations:\n              require-adobe-auth: false\n            relations:\n              event-listener-for:\n                - {{YOUR_EVENT_TYPE}}\n")),(0,o.mdx)("h2",{id:"deploy-self-contained-application"},"Deploy self-contained application"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Launch ",(0,o.mdx)("inlineCode",{parentName:"li"},"aio app deploy")," AIO CLI command.")),(0,o.mdx)("p",null,"Congratulations, you just deployed the code and it's already subscribed to the specified event type. You can now share the code and repeat ",(0,o.mdx)("inlineCode",{parentName:"p"},"aio app deploy")," command on any environment you need"),(0,o.mdx)("h2",{id:"remove-self-contained-application"},"Remove self-contained application"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Launch ",(0,o.mdx)("inlineCode",{parentName:"li"},"aio app undeploy")," AIO CLI command. This command removes the application and also removes all event registrations bound to this application")))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-autoregistrations-md-dfbe592db171192a857f.js.map