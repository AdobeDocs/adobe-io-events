"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[215],{45385:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return i},default:function(){return c}});var a,r=n(87462),d=n(63366),l=(n(15007),n(64983)),o=n(91515),s=["components"],i={},m=(a="InlineAlert",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",e)}),p={_frontmatter:i},u=o.Z;function c(e){var t=e.components,n=(0,d.Z)(e,s);return(0,l.mdx)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"publish-events"},"Publish events"),(0,l.mdx)("p",null,"Event publishers can publish events to the event receiver using the Adobe I/O Events SDK. "),(0,l.mdx)("p",null,"For information on installing and using the SDK, please begin by reading the ",(0,l.mdx)("a",{parentName:"p",href:"sdk_getting_started.md"},"getting started guide"),"."),(0,l.mdx)(m,{slots:"title, text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"Data Residency:"),(0,l.mdx)("p",null,"Please note that all custom events are stored in the ",(0,l.mdx)("strong",{parentName:"p"},"United States (US)")," region.  "),(0,l.mdx)("h2",{id:"method"},"Method"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-shell"},"publishEvent(cloudEvent) â‡’ Promise.<string>\n")),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,l.mdx)("th",{parentName:"tr",align:null},"Type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"cloudEvent")),(0,l.mdx)("td",{parentName:"tr",align:null},"object"),(0,l.mdx)("td",{parentName:"tr",align:null},"Object to be published to event receiver in cloud event format.")))),(0,l.mdx)("h2",{id:"cloudevents-sample"},"CloudEvents Sample"),(0,l.mdx)("p",null,"The events should follow ",(0,l.mdx)("a",{parentName:"p",href:"https://github.com/cloudevents/spec/blob/v1.0/spec.md"},"CloudEvents 1.0")," Image result for CloudEvents specification. "),(0,l.mdx)("p",null,"As of now, only ",(0,l.mdx)("inlineCode",{parentName:"p"},"application/json")," is accepted as the ",(0,l.mdx)("inlineCode",{parentName:"p"},"content-type"),' for the "data" field of the CloudEvent. '),(0,l.mdx)("p",null,"If retries are set, publish events are retried on network issues, 5xx and 429 error response codes. "),(0,l.mdx)("p",null,"The following shows a sample cloud event accepted by the event receiver:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "id": "<id>",\n    "event_id": "<event_id>",\n    "specversion": "1.0",\n    "type": "<event-code>",\n    "source": "urn:uuid:<provider-id>",\n    "time": "2020-03-06T05:40:34Z",\n    "datacontenttype": "application/json",\n    "data": { "hello": "world" } // any json payload\n}\n')),(0,l.mdx)("h2",{id:"response"},"Response"),(0,l.mdx)("p",null,"The API returns "),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"HTTP Status 200 (OK) if the event has been processed correctly and there are active registrations for the event,"),(0,l.mdx)("li",{parentName:"ul"},"HTTP Status 204 (No Content) if there are no registrations for the event, "),(0,l.mdx)("li",{parentName:"ul"},"HTTP Status 429 (Too Many Requests) with a ",(0,l.mdx)("inlineCode",{parentName:"li"},"Retry-After")," response header if your api-key is being throttled (read our ",(0,l.mdx)("a",{parentName:"li",href:"../api/eventsingress_api.md"},"Events Publishing API guide")," for more details)."),(0,l.mdx)("li",{parentName:"ul"},"as well as the usual (4xx/5xx) error codes if there was an issue in processing the request.")))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-sdk-sdk-publish-events-md-dfac45dd35521e111962.js.map