{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/runtime_webhooks.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-runtime-webhooks-md-3aed2b33f4985bb47965.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/adobe-io-events/adobe-io-events/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"runtime-actions-as-webhook\"\n    }}>{`Runtime Actions as Webhook`}</h1>\n    <p>{`The integration between Adobe I/O Runtime and I/O Events lets you create Runtime actions to be set up as webhook endpoints on the `}<inlineCode parentName=\"p\">{`Developer Console`}</inlineCode>{` for receiving events, so that every time an event fires, your Runtime action is executed. We recommend setting up your runtime action as webhook if you have short-running action (that responds within 10 sec).`}</p>\n    <p>{`For long-running (async) actions and guaranteed event handling you should consider using the `}<a parentName=\"p\" {...{\n        \"href\": \"https://adobeio-codelabs-journaling-events-adobedocs.hlx.page/?src=/README.html\"\n      }}>{`journaling approach`}</a>{` for consuming events.`}</p>\n    <h2 {...{\n      \"id\": \"setting-up-webhook-integration-with-runtime-action\"\n    }}>{`Setting up Webhook Integration with Runtime Action`}</h2>\n    <p>{`The Runtime cli will let you create a runtime action and hook it up with an integration via Adobe Developer Console. Read `}<a parentName=\"p\" {...{\n        \"href\": \"/adobe-io-events/runtime/docs/guides/getting-started/setup/\"\n      }}>{`here`}</a>{` to setup your cli with Runtime plugin which is required as pre-requisite.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Go to Developer Console and start creating an event registration`}</li>\n      <li parentName=\"ul\">{`Add `}<a parentName=\"li\" {...{\n          \"href\": \"/adobe-io-events/developer-console/docs/guides/services/#enable-runtime\"\n        }}>{`Runtime`}</a>{` to your project, this will create the required auth and runtime namespace for you.`}</li>\n      <li parentName=\"ul\">{`Go to `}<inlineCode parentName=\"li\">{`aio-cli`}</inlineCode>{` and create and deploy your user-action in your namespace. `}</li>\n      <li parentName=\"ul\">{`Come back to Developer Console and you will see the deployed runtime action in your namespace under the `}<inlineCode parentName=\"li\">{`User Defined Actions`}</inlineCode>{` section. Refresh the page if you don't see the action.`}</li>\n      <li parentName=\"ul\">{`Now set up an event registration using the runtime action you just deployed. You would need to select the `}<inlineCode parentName=\"li\">{`Runtime Action`}</inlineCode>{` option in your `}<inlineCode parentName=\"li\">{`Configure event registration`}</inlineCode>{` page. Choose your runtime action from the dropdown and click `}<inlineCode parentName=\"li\">{`Save configured events`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`This will create an event registration with an event handler webhook pointing to your runtime action. `}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"benefits-of-using-runtime-action-as-webhook\"\n    }}>{`Benefits of using Runtime Action as Webhook`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#built-in-signature-verification\"\n        }}>{`Built In Signature Verification`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#tracing-actions-with-activation-ids\"\n        }}>{`Tracing Actions with Activation Ids`}</a></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"built-in-signature-verification\"\n    }}>{`Built In Signature Verification`}</h3>\n    <p>{`With integration between I/O Events and Adobe I/O Runtime, you don't need to worry about security as your runtime actions configured as webhooks are secured with an out-of-the-box signature verification implementation. So, basically whatever runtime action you use to create an event registration, the handler webhook created due to that will place a signature validator action along with your action as in a `}<a parentName=\"p\" {...{\n        \"href\": \"/adobe-io-events/runtime/docs/guides/reference/sequences_compositions/\"\n      }}>{`sequence`}</a>{`. I/O Events signs the event payload with the client's secret signature and passes the signature as a request header while invoking your webhook. Your business logic runtime action will only be invoked once the validator action successfully verifies that the correct signature has been passed to invoke your webhook.`}</p>\n    <h3 {...{\n      \"id\": \"tracing-actions-with-activation-ids\"\n    }}>{`Tracing Actions with Activation Ids`}</h3>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"../support/tracing.md\"\n      }}>{`Debug Tracing`}</a>{` is a pretty important tool on Developer Console for users who want to be informed whether their runtime action invocation is successful or not or what it responds.`}</p>\n    <p>{`After setting up a runtime action as webhook, upon its successful invocation, you can see custom response returned from your own runtime action in the `}<inlineCode parentName=\"p\">{`Debug Tracing`}</inlineCode>{` webhook response section as below.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"37.5%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/cb523/debug_tracing_webhook_response_new.webp 320w\", \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/797b9/debug_tracing_webhook_response_new.webp 640w\", \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/4b075/debug_tracing_webhook_response_new.webp 1280w\", \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/f3ff0/debug_tracing_webhook_response_new.webp 1920w\", \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/20744/debug_tracing_webhook_response_new.webp 2476w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/72799/debug_tracing_webhook_response_new.png 320w\", \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/6af66/debug_tracing_webhook_response_new.png 640w\", \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/21b4d/debug_tracing_webhook_response_new.png 1280w\", \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/29114/debug_tracing_webhook_response_new.png 1920w\", \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/91a65/debug_tracing_webhook_response_new.png 2476w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/adobe-io-events/static/4e0afe81b5b7052e846bdaf386775b39/21b4d/debug_tracing_webhook_response_new.png\",\n            \"alt\": \"Debug Tracing Webhook Response New on Adobe Developer Console\",\n            \"title\": \"Debug Tracing Webhook Response New on Adobe Developer Console\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`However, in case of any failed invocation to your webhook, you will get an error response body with an activation id for the same. This helps users to debug their actions as below`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`This activation id you can use in the `}<inlineCode parentName=\"p\">{`aio cli`}</inlineCode>{` to trace the actual error occurred in your invocation by doing `}<inlineCode parentName=\"p\">{`aio rt activation logs <failed_activation_id>`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`You may now get activation ids for two types of failed activations - `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`- Signature Validator Action \n- Your Runtime Action  \n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`In case of failure in the signature verification step, this is how you will get the error response and the failed activation id for the same.`}</p>\n        <p parentName=\"li\">{` `}<span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1258px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"53.125%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"display\": \"block\",\n                \"transition\": \"opacity 0.5s 0.5s\",\n                \"pointerEvents\": \"none\"\n              }\n            }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/adobe-io-events/static/177a3fcd0dfad8718e5629ab812b4aa1/cb523/activation_id_for_failed_signature.webp 320w\", \"/adobe-io-events/static/177a3fcd0dfad8718e5629ab812b4aa1/797b9/activation_id_for_failed_signature.webp 640w\", \"/adobe-io-events/static/177a3fcd0dfad8718e5629ab812b4aa1/ab7d4/activation_id_for_failed_signature.webp 1258w\"],\n                \"sizes\": \"(max-width: 1258px) 100vw, 1258px\",\n                \"type\": \"image/webp\"\n              }}></source>{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/adobe-io-events/static/177a3fcd0dfad8718e5629ab812b4aa1/72799/activation_id_for_failed_signature.png 320w\", \"/adobe-io-events/static/177a3fcd0dfad8718e5629ab812b4aa1/6af66/activation_id_for_failed_signature.png 640w\", \"/adobe-io-events/static/177a3fcd0dfad8718e5629ab812b4aa1/afa26/activation_id_for_failed_signature.png 1258w\"],\n                \"sizes\": \"(max-width: 1258px) 100vw, 1258px\",\n                \"type\": \"image/png\"\n              }}></source>{`\n          `}<img parentName=\"picture\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"src\": \"/adobe-io-events/static/177a3fcd0dfad8718e5629ab812b4aa1/afa26/activation_id_for_failed_signature.png\",\n                \"alt\": \"Activation Id for Failed Signature Verification\",\n                \"title\": \"Activation Id for Failed Signature Verification\",\n                \"loading\": \"lazy\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"opacity\": \"0\",\n                  \"transition\": \"opacity 0.5s\",\n                  \"color\": \"inherit\",\n                  \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                }\n              }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`For failed invocation to your runtime action, you will get an error response with the failed activation id for the same like below`}</p>\n        <p parentName=\"li\">{` `}<span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1262px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"53.125%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"display\": \"block\",\n                \"transition\": \"opacity 0.5s 0.5s\",\n                \"pointerEvents\": \"none\"\n              }\n            }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/adobe-io-events/static/eb53f4eba0625535cc7b9f3a60c3fc56/cb523/activation_id_for_failed_user_action.webp 320w\", \"/adobe-io-events/static/eb53f4eba0625535cc7b9f3a60c3fc56/797b9/activation_id_for_failed_user_action.webp 640w\", \"/adobe-io-events/static/eb53f4eba0625535cc7b9f3a60c3fc56/7408f/activation_id_for_failed_user_action.webp 1262w\"],\n                \"sizes\": \"(max-width: 1262px) 100vw, 1262px\",\n                \"type\": \"image/webp\"\n              }}></source>{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/adobe-io-events/static/eb53f4eba0625535cc7b9f3a60c3fc56/72799/activation_id_for_failed_user_action.png 320w\", \"/adobe-io-events/static/eb53f4eba0625535cc7b9f3a60c3fc56/6af66/activation_id_for_failed_user_action.png 640w\", \"/adobe-io-events/static/eb53f4eba0625535cc7b9f3a60c3fc56/62da8/activation_id_for_failed_user_action.png 1262w\"],\n                \"sizes\": \"(max-width: 1262px) 100vw, 1262px\",\n                \"type\": \"image/png\"\n              }}></source>{`\n          `}<img parentName=\"picture\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"src\": \"/adobe-io-events/static/eb53f4eba0625535cc7b9f3a60c3fc56/62da8/activation_id_for_failed_user_action.png\",\n                \"alt\": \"Activation Id for Failed User Action\",\n                \"title\": \"Activation Id for Failed User Action\",\n                \"loading\": \"lazy\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"opacity\": \"0\",\n                  \"transition\": \"opacity 0.5s\",\n                  \"color\": \"inherit\",\n                  \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                }\n              }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n      </li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}