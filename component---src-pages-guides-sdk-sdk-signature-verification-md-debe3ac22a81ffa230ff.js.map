{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/sdk/sdk_signature_verification.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"mTAQaA,EAAe,GACtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,qCADR,sCAGA,uMACA,+EAAgE,uBAAYC,WAAW,KAAvB,qBAAhE,+IACA,wMAAyL,cAAGA,WAAW,IACnM,KAAQ,sCAD6K,QAAzL,uHAGA,6DAA8C,uBAAYA,WAAW,KAAvB,qBAA9C,iHAA4N,uBAAYA,WAAW,KAAvB,QAA5N,kFAA8V,uBAAYA,WAAW,KAAvB,SAA9V,OACA,wKACA,mGAAoF,cAAGA,WAAW,IAC9F,KAAQ,0BADwE,yBAApF,MAGA,eACE,GAAM,UADR,WAGA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,uBADZ,oFAIL,uBACE,kBAAOA,WAAW,UAChB,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,MADX,cAGA,eAAIA,WAAW,KACb,MAAS,MADX,SAGA,eAAIA,WAAW,KACb,MAAS,MADX,kBAKJ,kBAAOA,WAAW,UAChB,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,uBAAYA,WAAW,MAAvB,WACH,eAAIA,WAAW,KACb,MAAS,MADX,WAGA,eAAIA,WAAW,KACb,MAAS,MADX,2DAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,uBAAYA,WAAW,MAAvB,kBACH,eAAIA,WAAW,KACb,MAAS,MADX,WAGA,eAAIA,WAAW,KACb,MAAS,MADX,4CAE+C,cAAGA,WAAW,KACzD,KAAQ,4CADmC,2BAF/C,OAMF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,uBAAYA,WAAW,MAAvB,0BACH,eAAIA,WAAW,KACb,MAAS,MADX,WAGA,eAAIA,WAAW,KACb,MAAS,MADX,aAEgB,uBAAYA,WAAW,MAAvB,qBAFhB,mEAMN,eACE,GAAM,kBADR,mBAGA,uEACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,wUAaL,eACE,GAAM,YADR,aAGA,oDAAqC,uBAAYA,WAAW,KAAvB,QAArC,uBAA4G,uBAAYA,WAAW,KAAvB,SAA5G,MAKJJ,EAAWK,gBAAiB","file":"component---src-pages-guides-sdk-sdk-signature-verification-md-debe3ac22a81ffa230ff.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/adobe-io-events/adobe-io-events/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"signature-verification-for-events\"\n    }}>{`Signature Verification for Events`}</h1>\n    <p>{`Your webhook URL must be accessible from the open internet, however this means third-party actors can send forged requests, tricking your application into handling fake events.`}</p>\n    <p>{`To prevent this from happening, Adobe I/O Events adds an `}<inlineCode parentName=\"p\">{`x-adobe-signature`}</inlineCode>{` header to each POST request it does to your webhook URL, which allows you to verify that the request was really made by Adobe I/O Events.`}</p>\n    <p>{`This signature or “message authentication code” is computed using a cryptographic hash function and a secret key applied to the body of the HTTP request. In particular, a SHA256 `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/HMAC\"\n      }}>{`HMAC`}</a>{` is computed of the JSON payload, using your Client Secret as a secret key, and then turned into a Base64 digest. `}</p>\n    <p>{`This SDK method allows you to pass the `}<inlineCode parentName=\"p\">{`x-adobe-signature`}</inlineCode>{` header received and the JSON payload delivered to the webhook to check its authenticity. The method returns `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{` if the calculated signature matches that of the header, otherwise it returns `}<inlineCode parentName=\"p\">{`false`}</inlineCode>{`. `}</p>\n    <p>{`This can be incorporated as part of any webhook implementation in order to verify the signature for each event received at the webhook endpoint. `}</p>\n    <p>{`For information on installing and using the SDK, please begin by reading the `}<a parentName=\"p\" {...{\n        \"href\": \"sdk_getting_started.md\"\n      }}>{`getting started guide`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"method\"\n    }}>{`Method`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`verifySignatureForEvent(event, clientSecret, signatureHeaderValue) ⇒ boolean\n`}</code></pre>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameter`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`event`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`object`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`JSON payload delivered to the registered webhook URL.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`clientSecret`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Client Secret can be retrieved from the `}<a parentName=\"td\" {...{\n              \"href\": \"https://www.adobe.com/go/devs_console_ui\"\n            }}>{`Adobe Developer Console`}</a>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`signatureHeaderValue`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Value of `}<inlineCode parentName=\"td\">{`x-adobe-signature`}</inlineCode>{` header in each POST request to the registered webhook URL.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"sample-headers\"\n    }}>{`Sample Headers`}</h2>\n    <p>{`Headers received as part of POST to webhook URL:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-http\"\n      }}>{`Request URL: <webhook_url>\nRequest method: POST\nContent-Type: application/json; charset=utf-8\naccept-encoding: deflate,compress,identity\nuser-agent: Adobe/1.0\nx-adobe-delivery-id: <id>\nx-adobe-event-code: <event_code>\nx-adobe-event-id: <event_id>\nx-adobe-provider: <provider_name>\nx-adobe-signature: <signature>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"response\"\n    }}>{`Response`}</h2>\n    <p>{`If signature matches, returns `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{` otherwise returns `}<inlineCode parentName=\"p\">{`false`}</inlineCode>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}