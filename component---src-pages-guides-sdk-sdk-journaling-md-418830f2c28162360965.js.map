{"version":3,"file":"component---src-pages-guides-sdk-sdk-journaling-md-418830f2c28162360965.js","mappings":"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","sources":["webpack://dev-site-documentation-template/./src/pages/guides/sdk/sdk_journaling.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/adobe-io-events/adobe-io-events/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"subscribe-to-events-using-journaling\"\n    }}>{`Subscribe to Events Using Journaling`}</h1>\n    <p>{`Journaling is a `}<em parentName=\"p\">{`pull`}</em>{` model of consuming events, unlike `}<a parentName=\"p\" {...{\n        \"href\": \"sdk_webhooks.md\"\n      }}>{`webhooks`}</a>{` which use a `}<em parentName=\"p\">{`push`}</em>{` model. In journaling, your application will issue a series of API calls to pull batches of one or more events from the journal. `}</p>\n    <p>{`The Adobe I/O Events Journaling API response contains event data and the unique position in the journal for every event returned in that batch, and enables applications to consume events according to their own cadence and process them in bulk. `}</p>\n    <p>{`Unlike webhooks, no additional registration or other configuration is required; every application that is registered for events is automatically enabled for journaling. Journaling data is retained for 7 days.`}</p>\n    <p>{`For information on installing and using the SDK, see`}</p>\n    <ul>\n      <li parentName=\"ul\">{`our `}<a parentName=\"li\" {...{\n          \"href\": \"sdk_getting_started.md\"\n        }}>{`getting started guide`}</a></li>\n      <li parentName=\"ul\">{`our `}<a parentName=\"li\" {...{\n          \"href\": \"../api/journaling_api.md\"\n        }}>{`Journaling API`}</a>{` documentation`}</li>\n      <li parentName=\"ul\">{`our `}<a parentName=\"li\" {...{\n          \"href\": \"/adobe-io-events/src/pages/support/faq.md#journaling-faq\"\n        }}>{`Journaling API FAQ`}</a></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"configuration-options\"\n    }}>{`Configuration Options`}</h2>\n    <p>{`The following options can be configured while calling the journaling API:`}</p>\n    <h3 {...{\n      \"id\": \"eventsjournaloptions\"\n    }}>{`EventsJournalOptions`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`[latest]`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`boolean`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><em parentName=\"td\">{`Optional.`}</em>{` By default, the latest is set to false and all events are read from the first valid position in the journal. If set to true, Messages will be read from the latest position.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`[since]`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><em parentName=\"td\">{`Optional.`}</em>{` Provide the position in the journal from where events must be fetched. If not specified and latests=false, messages are fetched from the first valid position in the journal.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`[limit]`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`number`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Maximum number of events returned in the response. Note: unless the events are created at a high frequency, chances are the number of messages will be less than the specified limit value (see our `}<a parentName=\"td\" {...{\n              \"href\": \"../api/journaling_api.md#limiting-the-size-of-the-batch\"\n            }}>{`Journaling API`}</a>{` for more details)`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"eventsjournalpollingoptions\"\n    }}>{`EventsJournalPollingOptions`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`[interval]`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`number`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><em parentName=\"td\">{`Optional.`}</em>{` Interval at which to poll the journal; If not provided, a default value will be used. The default value is 2s and is used only in case there are no new events in the journal or in case of error. Otherwise, the new event is fetched immediately after the previous call.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"get-events-from-a-journal\"\n    }}>{`Get Events from a Journal`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`getEventsFromJournal`}</inlineCode>{` SDK expects a journal URL as input and `}<inlineCode parentName=\"p\">{`eventsJournalOptions`}</inlineCode>{` if required. If no parameters are specified, messages are fetched from the first valid position in the journal, and the `}<inlineCode parentName=\"p\">{`link.next`}</inlineCode>{` header in the response provides the position for the next event in the journal. Following the `}<inlineCode parentName=\"p\">{`link.next`}</inlineCode>{` link from each response will help fetch all events in order from the journal. `}</p>\n    <p>{`You can also rewind to start reading from a different position in the journal by providing the `}<inlineCode parentName=\"p\">{`since`}</inlineCode>{` query parameter in the options or as part of the journal URL. `}</p>\n    <h4 {...{\n      \"id\": \"method\"\n    }}>{`Method`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`getEventsFromJournal(journalUrl, [eventsJournalOptions]) ⇒ Promise\n`}</code></pre>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameter`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`journalUrl`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\"><em parentName=\"strong\">{`Required.`}</em></strong>{` URL of the journal or 'next' link to read from. `}<inlineCode parentName=\"td\">{`journalUrl`}</inlineCode>{` can be fetched by fetching the registration details. In the response body, it is the `}<inlineCode parentName=\"td\">{`events_url`}</inlineCode>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`[eventsJournalOptions]`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"#eventsjournaloptions\"\n            }}>{`EventsJournalOptions`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Query options to send with the URL.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h4 {...{\n      \"id\": \"sample-response\"\n    }}>{`Sample Response`}</h4>\n    <p>{`The response from the SDK contains the following as part of the json result:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Property`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`events`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Array of events retrieved from the journal.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`links`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Links to the next/latest/current position from where the event is to be fetched.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`retryAfter`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`If the call to journal returned 204, it means that there are no more events to be read from the journal. The `}<inlineCode parentName=\"td\">{`retryAfter`}</inlineCode>{` value extracted from the `}<inlineCode parentName=\"td\">{`retry-after`}</inlineCode>{` header in the response specifies the time in seconds after which one can try again to look for more events. `}<em parentName=\"td\">{`It is recommended to honor this `}<inlineCode parentName=\"em\">{`retryAfter`}</inlineCode>{` value.`}</em></td>\n        </tr>\n      </tbody>\n    </table>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{ \"events\":\n   [ {\n       \"position\":\"<cursor_position_of_this_event>\",\n       \"event\":\n        {\n            \"header\": \"<headers_map>\"\n        },\n          \"body\":\n           \"<json_payload>\"\n    } ],\n  \"_page\":\n   {\n      \"last\": \"<cursor_position_of_this_event>\",\n      \"count\": 1\n   },\n  \"link\":\n   { \"events\":\n      \"https://events-va6.adobe.io/events/organizations/<consumerOrgId>/integrations/<credentialId>/<registrationId>\",\n     \"next\":\n      \"https://events-va6.adobe.io/events-fast/organizations/<consumerOrgId>/integrations/<credentialId>/<registrationId>?since=<cursor_to_position_of_next_event>\",\n     \"count\":\n      \"https://events-va6.adobe.io/count/organizations/<consumerOrgId>/integrations/<credentialId>/<registrationId>?since=<cursor_position_of_this_event>\",\n     \"latest\":\n      \"https://events-va6.adobe.io/events/organizations/<consumerOrgId>/integrations/<credentialId>/<registrationId>?latest=true\",\n     \"page\":\n      \"https://events-va6.adobe.io/events/organizations/<consumerOrgId>/integrations/<credentialId>/<registrationId>?since={position}&limit={count}\",\n     \"seek\":\n      \"https://events-va6.adobe.io/events/organizations/<consumerOrgId>/integrations/<credentialId>/<registrationId>?seek={duration}&limit={count}\" \n    }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"get-events-observable-from-journal\"\n    }}>{`Get Events Observable from Journal`}</h2>\n    <p>{`Polling the journal for events and taking action on each event such as mapping, transformations,\nand filtering are some common functionalities that are most useful using the Journaling API. `}</p>\n    <p>{`This method encapsulates all of the complexities of fetching events by following the `}<inlineCode parentName=\"p\">{`link.next`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`retry-After`}</inlineCode>{` headers\nwhile you can focus on implementing the business logic of taking action on receiving events\n(and as mentioned in our `}<a parentName=\"p\" {...{\n        \"href\": \"../api/journaling_api.md#fetching-the-next-batch-of-newer-events-from-the-journal\"\n      }}>{`Journaling API documentation`}</a>{`,\nutilizing this link is `}<strong parentName=\"p\">{`strongly recommended`}</strong>{`).`}</p>\n    <h4 {...{\n      \"id\": \"method-1\"\n    }}>{`Method`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`getEventsObservableFromJournal(journalUrl, [eventsJournalOptions], [eventsJournalPollingOptions]) ⇒ Observable\n`}</code></pre>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameter`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`journalUrl`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\"><em parentName=\"strong\">{`Required.`}</em></strong>{` URL of the journal or 'next' link to read from. `}<inlineCode parentName=\"td\">{`journalUrl`}</inlineCode>{` can be fetched by fetching the registration details. In the response body, it is the `}<inlineCode parentName=\"td\">{`events_url`}</inlineCode>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`[eventsJournalOptions]`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"#eventsjournaloptions\"\n            }}>{`EventsJournalOptions`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Query options to send with the URL.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`[eventsJournalPollingOptions]`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"#eventsjournalpollingoptions\"\n            }}>{`EventsJournalPollingOptions`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Journal polling options.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h4 {...{\n      \"id\": \"sample-code\"\n    }}>{`Sample Code`}</h4>\n    <p>{`This method returns an `}<a parentName=\"p\" {...{\n        \"href\": \"https://rxjs.dev/guide/observable\"\n      }}>{`RxJS Observable`}</a>{` which you can fetch and subscribe to in order to listen to events. The following code explains how to get started with journaling: `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const sdk = require('@adobe/aio-lib-events')\n \nasync function sdkTest() {\n  // initialize sdk\n  const client = await sdk.init('<organization id>', 'x-api-key', '<valid auth token>', '<http options>')\n  // get the journaling observable\n  const journaling = client.getEventsObservableFromJournal('<journal url>', '<journaling options>')\n`}</code></pre>\n    <p>{`The simplest way to subscribe and take action on the next event is as follows: `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`journaling.subscribe(\n    x => console.log('onNext: ' + x), // any action onNext event\n    e => console.log('onError: ' + e.message), // any action onError\n    () => console.log('onCompleted')) //action onComplete\n`}</code></pre>\n    <p>{`RxJS provides a lot of flexibility in handling events. You can compose functions declaratively in sequence to work on the emitted data. `}</p>\n    <p>{`For more complicated use cases, you can make use of `}<a parentName=\"p\" {...{\n        \"href\": \"https://rxjs.dev/guide/operators\"\n      }}>{`RxJS operators`}</a>{` to filter certain events, transform the events, etc. Such an implementation would look something like:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const { filter, map } = require('rxjs/operators')\n\n...\nconst subscription = journaling.pipe(\n    filter(e => e.event.header.msgType === '<message_type>'),// any filtering predicate that returns a boolean\n    takeWhile(e => e.event.header.msgId !== '<message_id>'),// if they wish to read messages from start till a particular position or any other condition\n    map(e => e.event.body) // transform the event or any other mapping\n  ).subscribe({\n    next: (v) => {\n      console.log(JSON.stringify(v)) // any actions they want to take with event can be implemented here\n    },\n    error: (e) => console.log(e),\n    complete: () => console.log('Observer A is complete')\n  })\n  \nsetTimeout(() => {\n  subscription.unsubscribe()\n}, 10000)\n`}</code></pre>\n    <p>{`You can also have multiple subscriptions to a single observable, each transforming and filtering events on different criteria or applying any other operators as follows:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const { filter, map } = require('rxjs/operators')\n \n \n...\nconst subscription1 = journaling.pipe(\n    filter(e => e.event.header.msgType === '<message_type_1>'),\n    map(e => <transformed_event_1>)\n  ).subscribe({\n    next: (v) => {\n      // action to be executed on receving events of message_type_2\n    },\n    error: (e) => console.log(e),\n    complete: () => console.log('Observer A is complete')\n  })\n  \nsetTimeout(() => {\n  subscription1.unsubscribe()\n}, 10000)\n \n \nconst subscription2 = journaling.pipe(\n    filter(e => e.event.header.msgType === '<message_type_2>',\n    map(e => <transformed_event_2>)\n  ).subscribe({\n    next: (v) => {\n      // action to be executed on receving events of message_type_2\n    },\n    error: (e) => console.log(e),\n    complete: () => console.log('Observer B is complete')\n  })\n  \nsetTimeout(() => {\n  subscription2.unsubscribe()\n}, 20000)\n \n...\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}